CC = gcc
MIPS-CC = /opt/buildroot-gcc342/bin/mipsel-linux-gcc 

JSON_C_DIR = /user

FLAGS += -I /user/include/json-c
LDFLAGS += -Wall -pthread -ljson-c -std=c99 -L $(JSON_C_DIR)/lib 

SRC = $(wildcard *.c)
OBJ = e2s

$(OBJ): $(SRC)
	$(MIPS-CC)  $(FLAGS) $(LDFLAGS) -o $@ $^

clean:
	rm -rf *~ *.o server e2s SOURCEINSIGHT
	
server:	$(SRC)

	$(CC)  -o $@ $(SRC) $(FLAGS) $(LDFLAGS)
