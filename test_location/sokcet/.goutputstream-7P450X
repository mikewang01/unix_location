CC = gcc

JSON_C_DIR=/path/to/json_c/install
MIPS-CC = /opt/buildroot-gcc342/bin/mipsel-linux-gcc 
FLAGS = -Wall -pthread
CFLAGS += -I$(JSON_C_DIR)/include/json-c
LDFLAGS+= -L$(JSON_C_DIR)/lib -ljson-c

SRC = $(wildcard *.c)
OBJ = e2s

$(OBJ): $(SRC)
	$(MIPS-CC)  $(FLAGS) -o $@ $^

clean:
	rm -rf *~ *.o server e2s SOURCEINSIGHT
	
server:	$(SRC)

	$(CC) $(FLAGS) -o $@ $(SRC)
